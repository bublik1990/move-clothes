{"version":3,"sources":["js/addToFavorites.js","js/catalog.js"],"names":["addToFavorites","classList","toggle","$","ajax","type","data","dataset","id","url","success","response","error","console","log","favorites","document","querySelectorAll","showMoreBtn","querySelector","catalogListEl","handleClick","e","target","nodeName","apply","showMoreProduction","preventDefault","arr","newProductsmarkUp","generateMarkup","image","imageDescription","name","price","insertAdjacentHTML","reduce","acc","el","addEventListener"],"mappings":";;;;;;;;;;;;;;;AAcC,aAdM,SAASA,IACTC,KAAAA,UAAUC,OAAO,eAEtBC,EAAEC,KAAK,CACLC,KAAM,OACNC,KAAM,KAAKC,QAAQC,GACnBC,IAAK,GACLC,QAAS,SAAUC,GACZV,KAAAA,UAAUC,OAAO,gBAExBU,MAAO,SAAUD,GACfE,QAAQC,IAAI,YAGjB,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA;;AC2DA,aAzED,QAAA,4BACA,QAAA,iCACA,QAAA,mCACA,QAAA,mCACA,QAAA,sCACA,QAAA,wBACA,QAAA,mCACA,IAAA,EAAA,QAAA,oBAEA,MAAMC,EAAYC,SAASC,iBAAiB,uBACtCC,EAAcF,SAASG,cAAc,iBACrCC,EAAgBJ,SAASG,cAAc,kBAI7C,SAASE,EAAYC,GACbC,MAAAA,EAASD,EAAEC,OACO,WAApBA,EAAOC,UACIC,EAAAA,eAAAA,MAAMF,GAGvB,SAASG,EAAmBJ,GAC1BA,EAAEK,iBAIIC,MAiBAC,EAAoBC,EAjBd,CACV,CACEC,MAAO,8BACPC,iBAAkB,cAClBC,KAAM,SACNC,MAAO,OACP1B,GAAI,IAEN,CACEuB,MAAO,8BACPC,iBAAkB,cAClBC,KAAM,SACNC,MAAO,MACP1B,GAAI,MAKRY,EAAce,mBAAmB,YAAaN,GAE9C1B,EAAEC,KAAK,CACLC,KAAM,MACNI,IAAK,GACLH,KAAM,GACNI,QAAS,SAAUJ,OAQvB,SAASwB,EAAeF,GACf,MAAA,IAAIA,GAAKQ,OAAO,CAACC,EAAKC,IAEzBD,kJAGqDC,EAAGP,eAAeO,EAAGN,wEAC7BM,EAAGL,+DACFK,EAAGJ,sHAEyBI,EAAG9B,2FAI9E,IA5DLU,EAAYqB,iBAAiB,QAASb,GACtCN,EAAcmB,iBAAiB,QAASlB","file":"catalog.3075fccb.js","sourceRoot":"../src","sourcesContent":["export function addToFavorites() {\n  this.classList.toggle('is-favorite'); // delete this line\n\n  $.ajax({\n    type: 'POST',\n    data: this.dataset.id,\n    url: '',\n    success: function (response) {\n      this.classList.toggle('is-favorite');\n    },\n    error: function (response) {\n      console.log('error');\n    },\n  });\n}\n","import '../sass/base/_reset.scss';\nimport '../sass/utils/_variables.scss';\nimport '../sass/components/_header.scss';\nimport '../sass/components/_recent.scss';\nimport '../sass/components/_subscribe.scss';\nimport '../sass/catalog.scss';\nimport '../sass/components/_footer.scss';\nimport { addToFavorites } from './addToFavorites';\n\nconst favorites = document.querySelectorAll('.catalog__favorites');\nconst showMoreBtn = document.querySelector('.is-show-more');\nconst catalogListEl = document.querySelector('.catalog__list');\nshowMoreBtn.addEventListener('click', showMoreProduction);\ncatalogListEl.addEventListener('click', handleClick);\n\nfunction handleClick(e) {\n  const target = e.target;\n  if (target.nodeName !== 'BUTTON') return;\n  addToFavorites.apply(target);\n}\n\nfunction showMoreProduction(e) {\n  e.preventDefault();\n\n  // delete this array. It is an example to show how it works without backend.\n  // pictures do not loads because of Parcel. In Django will be ok\n  const arr = [\n    {\n      image: '../images/catalog/item4.png',\n      imageDescription: 'Фото товара',\n      name: 'Платье',\n      price: '1160',\n      id: 45,\n    },\n    {\n      image: '../images/catalog/item7.png',\n      imageDescription: 'Фото товара',\n      name: 'Костюм',\n      price: '900',\n      id: 65,\n    },\n  ];\n\n  const newProductsmarkUp = generateMarkup(arr); //delete this line\n  catalogListEl.insertAdjacentHTML('beforeend', newProductsmarkUp); //delete this line\n\n  $.ajax({\n    type: 'GET',\n    url: '',\n    data: {}, //page\n    success: function (data) {\n      // uncomment\n      // const newProductsmarkUp = generateMarkup(data);\n      // catalogListEl.insertAdjacentHTML('beforeend', newProductsmarkUp);\n    },\n  });\n}\n\nfunction generateMarkup(arr) {\n  return [...arr].reduce((acc, el) => {\n    return (\n      acc +\n      `<li class=\"catalog__item\">\n                    <a class=\"catalog__link\" href=\"#\">\n                        <img class=\"catalog__image\" src=\"${el.image}\" alt=\"${el.imageDescription}\">\n                        <p class=\"catalog__name\">${el.name}</p>\n                        <p class=\"catalog__price\">${el.price}</p>\n                    </a>\n                    <button class=\"catalog__favorites\" type=\"button\" data-id=\"${el.id}\" aria-label=\"Add in favorites\">\n                    </button>\n                </li>`\n    );\n  }, '');\n}\n"]}