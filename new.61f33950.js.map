{"version":3,"sources":["js/notification.js","js/addToFavorites.js","js/new.js"],"names":["refs","successBtn","document","querySelector","errorBtn","backdropRef","notificationCloseBtn","addEventListener","openNotificationWithSuccess","openNotificationWithError","isNotificationMessageOpen","classList","add","remove","openNotificationMessage","closeNotificationMessage","closeNotificationMessageByCloseBtn","setTimeout","removeEventListener","addToFavorites","product","toggle","$","ajax","type","data","dataset","id","url","success","response","error","console","log","favorites","querySelectorAll","showMoreBtn","catalogListEl","handleClick","e","target","nodeName","apply","showMoreProduction","preventDefault","arr","newProductsmarkUp","generateMarkup","image","imageDescription","name","price","insertAdjacentHTML","reduce","acc","el"],"mappings":";AAgDC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,0BAAA,EAAA,QAAA,4BAAA,EAhDD,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,YACnCC,SAAUF,SAASC,cAAc,UACjCE,YAAaH,SAASC,cAAc,aACpCG,qBAAsBJ,SAASC,cAAc,2BAG/CH,EAAKC,WAAWM,iBAAiB,QAASC,GAC1CR,EAAKI,SAASG,iBAAiB,QAASE,GAExC,IAAIC,GAA4B,EAEhC,SAASF,IACPR,EAAKK,YAAYM,UAAUC,IAAI,wBAC/BZ,EAAKK,YAAYM,UAAUE,OAAO,sBAClCC,IACAC,IAGF,SAASN,IACPT,EAAKK,YAAYM,UAAUC,IAAI,sBAC/BZ,EAAKK,YAAYM,UAAUE,OAAO,wBAClCC,IACAC,IAGF,SAASD,IACPd,EAAKK,YAAYM,UAAUE,OAAO,aAClCb,EAAKM,qBAAqBC,iBAAiB,QAASS,GACpDN,GAA4B,EAG9B,SAASK,IACHL,GACFO,WAAW,KACTjB,EAAKK,YAAYM,UAAUC,IAAI,aAC/BF,GAA4B,EAC5BV,EAAKM,qBAAqBY,oBAAoB,QAASF,IACtD,KAIP,SAASA,IACHN,IACFV,EAAKK,YAAYM,UAAUC,IAAI,aAC/BZ,EAAKM,qBAAqBY,oBAAoB,QAASF,GACvDhB,EAAKU,2BAA4B;;AC7BpC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAjBD,IAAA,EAAA,QAAA,kBAEO,SAASS,IACRC,MAAAA,EAAU,KAChBA,EAAQT,UAAUU,OAAO,eACzBC,EAAEC,KAAK,CACLC,KAAM,OACNC,KAAM,KAAKC,QAAQC,GACnBC,IAAK,GACLC,QAAS,SAAUC,GACjBV,EAAQT,UAAUU,OAAO,gBAE3BU,MAAO,SAAUD,GACfE,QAAQC,IAAI,UACZ,EAAA,EAAA;;ACoDL,aAlED,IAAA,EAAA,QAAA,oBAEA,MAAMC,EAAYhC,SAASiC,iBAAiB,uBACtCC,EAAclC,SAASC,cAAc,iBACrCkC,EAAgBnC,SAASC,cAAc,kBAI7C,SAASmC,EAAYC,GACbC,MAAAA,EAASD,EAAEC,OACO,WAApBA,EAAOC,UACIC,EAAAA,eAAAA,MAAMF,GAGvB,SAASG,EAAmBJ,GAC1BA,EAAEK,iBAIIC,MAiBAC,EAAoBC,EAjBd,CACV,CACEC,MAAO,8BACPC,iBAAkB,cAClBC,KAAM,SACNC,MAAO,OACPxB,GAAI,IAEN,CACEqB,MAAO,8BACPC,iBAAkB,cAClBC,KAAM,SACNC,MAAO,MACPxB,GAAI,MAKRU,EAAce,mBAAmB,YAAaN,GAE9CxB,EAAEC,KAAK,CACLC,KAAM,MACNI,IAAK,GACLH,KAAM,GACNI,QAAS,SAAUJ,OAQvB,SAASsB,EAAeF,GACf,MAAA,IAAIA,GAAKQ,OAAO,CAACC,EAAKC,IAEzBD,kJAGqDC,EAAGP,eAAeO,EAAGN,wEAC7BM,EAAGL,+DACFK,EAAGJ,sHAEyBI,EAAG5B,2FAI9E,IA5DLS,EAAY7B,iBAAiB,QAASoC,GACtCN,EAAc9B,iBAAiB,QAAS+B","file":"new.61f33950.js","sourceRoot":"../src","sourcesContent":["const refs = {\n  successBtn: document.querySelector('.success'),\n  errorBtn: document.querySelector('.error'),\n  backdropRef: document.querySelector('.backdrop'),\n  notificationCloseBtn: document.querySelector('.js-notification-close'),\n};\n\nrefs.successBtn.addEventListener('click', openNotificationWithSuccess);\nrefs.errorBtn.addEventListener('click', openNotificationWithError);\n\nlet isNotificationMessageOpen = false;\n\nfunction openNotificationWithSuccess() {\n  refs.backdropRef.classList.add('notification-success');\n  refs.backdropRef.classList.remove('notification-error');\n  openNotificationMessage();\n  closeNotificationMessage();\n}\n\nfunction openNotificationWithError() {\n  refs.backdropRef.classList.add('notification-error');\n  refs.backdropRef.classList.remove('notification-success');\n  openNotificationMessage();\n  closeNotificationMessage();\n}\n\nfunction openNotificationMessage() {\n  refs.backdropRef.classList.remove('is-hidden');\n  refs.notificationCloseBtn.addEventListener('click', closeNotificationMessageByCloseBtn);\n  isNotificationMessageOpen = true;\n}\n\nfunction closeNotificationMessage() {\n  if (isNotificationMessageOpen) {\n    setTimeout(() => {\n      refs.backdropRef.classList.add('is-hidden');\n      isNotificationMessageOpen = false;\n      refs.notificationCloseBtn.removeEventListener('click', closeNotificationMessageByCloseBtn);\n    }, 3000);\n  }\n}\n\nfunction closeNotificationMessageByCloseBtn() {\n  if (isNotificationMessageOpen) {\n    refs.backdropRef.classList.add('is-hidden');\n    refs.notificationCloseBtn.removeEventListener('click', closeNotificationMessageByCloseBtn);\n    refs.isNotificationMessageOpen = false;\n  }\n}\n\nexport { openNotificationWithSuccess, openNotificationWithError };\n","import { openNotificationWithSuccess, openNotificationWithError } from './notification';\n\nexport function addToFavorites() {\n  const product = this;\n  product.classList.toggle('is-favorite'); // delete this line\n  $.ajax({\n    type: 'POST',\n    data: this.dataset.id,\n    url: '',\n    success: function (response) {\n      product.classList.toggle('is-favorite');\n    },\n    error: function (response) {\n      console.log('error');\n      openNotificationWithError();\n    },\n  });\n}\n","import { addToFavorites } from './addToFavorites';\n\nconst favorites = document.querySelectorAll('.catalog__favorites');\nconst showMoreBtn = document.querySelector('.is-show-more');\nconst catalogListEl = document.querySelector('.catalog__list');\nshowMoreBtn.addEventListener('click', showMoreProduction);\ncatalogListEl.addEventListener('click', handleClick);\n\nfunction handleClick(e) {\n  const target = e.target;\n  if (target.nodeName !== 'BUTTON') return;\n  addToFavorites.apply(target);\n}\n\nfunction showMoreProduction(e) {\n  e.preventDefault();\n\n  // delete this array. It is an example to show how it works without backend.\n  // pictures do not loads because of Parcel. In Django will be ok\n  const arr = [\n    {\n      image: '../images/catalog/item4.png',\n      imageDescription: 'Фото товара',\n      name: 'Платье',\n      price: '1160',\n      id: 45,\n    },\n    {\n      image: '../images/catalog/item7.png',\n      imageDescription: 'Фото товара',\n      name: 'Костюм',\n      price: '900',\n      id: 65,\n    },\n  ];\n\n  const newProductsmarkUp = generateMarkup(arr); //delete this line\n  catalogListEl.insertAdjacentHTML('beforeend', newProductsmarkUp); //delete this line\n\n  $.ajax({\n    type: 'GET',\n    url: '',\n    data: {}, //page\n    success: function (data) {\n      // uncomment\n      // const newProductsmarkUp = generateMarkup(data);\n      // catalogListEl.insertAdjacentHTML('beforeend', newProductsmarkUp);\n    },\n  });\n}\n\nfunction generateMarkup(arr) {\n  return [...arr].reduce((acc, el) => {\n    return (\n      acc +\n      `<li class=\"catalog__item\">\n                    <a class=\"catalog__link\" href=\"#\">\n                        <img class=\"catalog__image\" src=\"${el.image}\" alt=\"${el.imageDescription}\">\n                        <p class=\"catalog__name\">${el.name}</p>\n                        <p class=\"catalog__price\">${el.price}</p>\n                    </a>\n                    <button class=\"catalog__favorites\" type=\"button\" data-id=\"${el.id}\" aria-label=\"Add in favorites\">\n                    </button>\n                </li>`\n    );\n  }, '');\n}\n"]}