{"version":3,"sources":["js/addToFavorites.js","js/cart.js"],"names":["addToFavorites","classList","toggle","$","ajax","type","data","dataset","id","url","success","response","error","console","log","setTotalSum","totalEl","document","querySelector","total","querySelectorAll","reduce","acc","el","Number","textContent","innerHTML","favorites","forEach","addEventListener","bind","goods","deletePositionFromCart","itemEl","closest","productId","remove","checkEmptyCart","length","add"],"mappings":";;;;;;;;;;;;;;;;;AAcC,aAdM,SAASA,IACTC,KAAAA,UAAUC,OAAO,eAEtBC,EAAEC,KAAK,CACLC,KAAM,OACNC,KAAM,KAAKC,QAAQC,GACnBC,IAAK,GACLC,QAAS,SAAUC,GACZV,KAAAA,UAAUC,OAAO,gBAExBU,MAAO,SAAUD,GACfE,QAAQC,IAAI,YAGjB,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA;;AC6CA,aA3DD,QAAA,4BACA,QAAA,iCACA,QAAA,mCACA,QAAA,mCACA,QAAA,sCACA,QAAA,qBACA,QAAA,oCACA,QAAA,mCACA,IAAA,EAAA,QAAA,oBAEA,SAASC,IACDC,MAAAA,EAAUC,SAASC,cAAc,aAGjCC,EAAQ,IAFEF,SAASG,iBAAiB,oBAEfC,OAAO,CAACC,EAAKC,IAAOD,EAAME,OAAOD,EAAGE,aAAc,GAC7ET,EAAQU,UAAYP,EAGtBJ,IAEA,MAAMY,EAAYV,SAASG,iBAAiB,uBAC5CO,EAAUC,QAAQL,IAChBA,EAAGM,iBAAiB,QAAS7B,EAAe8B,eAAAA,KAAKP,MAGnD,MAAMQ,EAAQd,SAASG,iBAAiB,oBAKxC,SAASY,IACDC,MAAAA,EAAS,KAAKC,QAAQ,kBACtBC,EAAYF,EAAO1B,QAAQC,GACjCyB,EAAOG,SACPC,IACAtB,IAEAZ,EAAEC,KAAK,CACLC,KAAM,OACNC,KAAM6B,EACN1B,IAAK,GACLC,QAAS,SAAUC,GACjBsB,EAAOG,SACPC,IACAtB,KAEFH,MAAO,SAAUD,GACfE,QAAQC,IAAI,YAKlB,SAASuB,IACQpB,SAASG,iBAAiB,kBAC7BkB,SACVrB,SAASC,cAAc,gBAAgBjB,UAAUmC,OAAO,aACxDnB,SAASC,cAAc,eAAejB,UAAUsC,IAAI,aACpDtB,SAASC,cAAc,iBAAiBjB,UAAUmC,OAAO,cA/B7DL,EAAMH,QAAQL,IACZA,EAAGM,iBAAiB,QAASG,EAAuBF,KAAKP","file":"cart.1b16bfbd.js","sourceRoot":"../src","sourcesContent":["export function addToFavorites() {\n  this.classList.toggle('is-favorite'); // delete this line\n\n  $.ajax({\n    type: 'POST',\n    data: this.dataset.id,\n    url: '',\n    success: function (response) {\n      this.classList.toggle('is-favorite');\n    },\n    error: function (response) {\n      console.log('error');\n    },\n  });\n}\n","import '../sass/base/_reset.scss';\nimport '../sass/utils/_variables.scss';\nimport '../sass/components/_header.scss';\nimport '../sass/components/_recent.scss';\nimport '../sass/components/_subscribe.scss';\nimport '../sass/cart.scss';\nimport '../sass/components/_product.scss';\nimport '../sass/components/_footer.scss';\nimport { addToFavorites } from './addToFavorites';\n\nfunction setTotalSum() {\n  const totalEl = document.querySelector('.js-total');\n  const goodsEl = document.querySelectorAll('.product__price');\n\n  const total = [...goodsEl].reduce((acc, el) => acc + Number(el.textContent), 0);\n  totalEl.innerHTML = total;\n}\n\nsetTotalSum();\n\nconst favorites = document.querySelectorAll('.product__favorites');\nfavorites.forEach(el => {\n  el.addEventListener('click', addToFavorites.bind(el));\n});\n\nconst goods = document.querySelectorAll('.product__delete');\ngoods.forEach(el => {\n  el.addEventListener('click', deletePositionFromCart.bind(el));\n});\n\nfunction deletePositionFromCart() {\n  const itemEl = this.closest('.product__item');\n  const productId = itemEl.dataset.id;\n  itemEl.remove(); // delete this line\n  checkEmptyCart(); // delete this line\n  setTotalSum(); // delete this line\n\n  $.ajax({\n    type: 'POST',\n    data: productId,\n    url: '',\n    success: function (response) {\n      itemEl.remove();\n      checkEmptyCart();\n      setTotalSum();\n    },\n    error: function (response) {\n      console.log('error');\n    },\n  });\n}\n\nfunction checkEmptyCart() {\n  const itemEl = document.querySelectorAll('.product__item');\n  if (!itemEl.length) {\n    document.querySelector('.cart__empty').classList.remove('is-hidden');\n    document.querySelector('.cart__form').classList.add('is-hidden');\n    document.querySelector('.cart__recent').classList.remove('is-hidden');\n  }\n}\n"]}